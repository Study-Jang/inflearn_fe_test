# 단위 테스트 대상 설정

- 다른 컴포넌트와 상호작용이 없는 공통 컴포넌트가 단위 테스트에 적합
- 커버리지 100%의 단위테스트는 비용이 증가할 뿐이다.
- ui만 렌더랑 하는 컴포넌트의 단위테스트는 불필요하다. ( 스토리북 사용 )
- 로직이 있어도 복잡하지 않은 컴포넌트는 단위테스트 보다는 상위 컴포넌트의 통합테스트가 적합
- 공통 융틸 함수는 단위 테스트로 검증한다.

## 모킹

> 실제 모듈, 객체와 동일한 동작을 하도록 만든 모의 모듈, 객체로 실제를 대체하는 것  
> 각 테스트의 독립성과 안정성을 보장하기 위해서는 teardown 에서 모킹을 초기화 해야한다.

- 장점
  > 외부 모듈과 의존성을 제외한 필요한 부분만 검증 가능  
  > 실제 모듈과 완전히 동일한 모의 객체를 구현하는 것은 큰 비용  
  > 모의 객체를 남용하는 것은 테스트 신뢰성을 낮춤

## 리액트 훅 테스트

### renderHook

- result : 훅을 호출하여 얻는 결과 값을 반환
- rerender : 훅을 원하는 인자와 함께 새로 호출하여 상태를 갱신

### act

- 렌더링, 이펙트 등과 함께 그룹화하고 실행하여 렌더링과 업데이트가 실제 앱이 동작하는 것과 유사한 방식으로 동작

## 타이머 테스트

### 타이머 모킹

- useFakeTimers : 타이머 모킹
- advancedTimersByTime : 시간의 흐름을 제어하는 함수
- useRealTimers : 시간을 원래대로 돌리는 함수
- setSystemtime : 현재 시간을 정의

## userEvent ( 권장 )

> 연쇄적으로 일어나는 이벤트가 발생 ( 실제와 유사 )  
> disabled 과 display 상태도 고려하여 테스트 가능

## fireEvent

> 해당 이벤트만 디스패치  
> 연쇄적으로 일어나는 이벤트가 발생하지 않음  
> scroll 과 같은 userevent가 지원되지 않는경우 사용
